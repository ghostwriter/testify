<?xml version="1.0" encoding="UTF-8"?>
<files psalm-version="5.24.0@462c80e31c34e58cc4f750c656be3927e80e550e">
  <file src="src/Command/TestifyCommand.php">
    <MixedArgument>
      <code><![CDATA[$file]]></code>
      <code><![CDATA[$testFile]]></code>
    </MixedArgument>
    <MixedAssignment>
      <code><![CDATA[$file]]></code>
      <code><![CDATA[$testFile]]></code>
    </MixedAssignment>
    <MixedOperand>
      <code><![CDATA[$file]]></code>
      <code><![CDATA[$testFile]]></code>
    </MixedOperand>
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/FileResolver.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Filesystem.php">
    <MissingThrowsDocblock>
      <code><![CDATA[throw new FailedToCreateDirectoryException($path);]]></code>
      <code><![CDATA[throw new FailedToDetermineCurrentWorkingDirectoryException();]]></code>
      <code><![CDATA[throw new FailedToReadFileException($path);]]></code>
      <code><![CDATA[throw new FailedToWriteFileException($path);]]></code>
      <code><![CDATA[throw new FileNotFoundException($path);]]></code>
    </MissingThrowsDocblock>
    <PossiblyUnusedMethod>
      <code><![CDATA[basename]]></code>
      <code><![CDATA[currentWorkingDirectory]]></code>
      <code><![CDATA[exists]]></code>
      <code><![CDATA[isFile]]></code>
      <code><![CDATA[isReadable]]></code>
      <code><![CDATA[parentDirectory]]></code>
      <code><![CDATA[read]]></code>
      <code><![CDATA[recursiveDirectoryIterator]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Generator/ClassLike/ClassGenerator.php">
    <LessSpecificReturnType>
      <code><![CDATA[string]]></code>
      <code><![CDATA[string]]></code>
      <code><![CDATA[string]]></code>
      <code><![CDATA[string]]></code>
    </LessSpecificReturnType>
    <PossiblyUnusedMethod>
      <code><![CDATA[generater]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Generator/ClassLike/InterfaceGenerator.php">
    <MissingOverrideAttribute>
      <code><![CDATA[public function addMethod(GeneratorInterface $method): void]]></code>
    </MissingOverrideAttribute>
    <PropertyTypeCoercion>
      <code><![CDATA[$this->methods]]></code>
    </PropertyTypeCoercion>
    <UnusedVariable>
      <code><![CDATA[$methods]]></code>
    </UnusedVariable>
  </file>
  <file src="src/Generator/ClassLikeMember/MethodGenerator.php">
    <InvalidMethodCall>
      <code><![CDATA[generate]]></code>
    </InvalidMethodCall>
    <MissingOverrideAttribute>
      <code><![CDATA[public function uses(): array]]></code>
    </MissingOverrideAttribute>
    <MixedArgument>
      <code><![CDATA[$parameter->uses()]]></code>
    </MixedArgument>
    <MixedAssignment>
      <code><![CDATA[$line]]></code>
      <code><![CDATA[$parameter]]></code>
      <code><![CDATA[$parameter]]></code>
    </MixedAssignment>
    <MixedMethodCall>
      <code><![CDATA[generate]]></code>
      <code><![CDATA[generate]]></code>
      <code><![CDATA[uses]]></code>
    </MixedMethodCall>
    <MixedOperand>
      <code><![CDATA[$line->generate()]]></code>
      <code><![CDATA[$parameter->generate()]]></code>
    </MixedOperand>
    <MixedReturnTypeCoercion>
      <code><![CDATA[$uses]]></code>
      <code><![CDATA[array]]></code>
    </MixedReturnTypeCoercion>
    <ParamNameMismatch>
      <code><![CDATA[$right]]></code>
    </ParamNameMismatch>
    <RedundantCondition>
      <code><![CDATA[$this->returnType !== null]]></code>
    </RedundantCondition>
  </file>
  <file src="src/Generator/ClassLikeMember/PropertyGenerator.php">
    <MixedMethodCall>
      <code><![CDATA[name]]></code>
    </MixedMethodCall>
    <MixedOperand>
      <code><![CDATA[$this->value]]></code>
    </MixedOperand>
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
    <UndefinedVariable>
      <code><![CDATA[$right]]></code>
    </UndefinedVariable>
  </file>
  <file src="src/Generator/FileGenerator.php">
    <LessSpecificReturnType>
      <code><![CDATA[string]]></code>
    </LessSpecificReturnType>
  </file>
  <file src="src/Generator/NamespaceGenerator.php">
    <ArgumentTypeCoercion>
      <code><![CDATA[$attributes]]></code>
      <code><![CDATA[$methods]]></code>
    </ArgumentTypeCoercion>
    <InvalidArgument>
      <code><![CDATA[$extends]]></code>
      <code><![CDATA[ClassLikeGeneratorInterface]]></code>
      <code><![CDATA[usort(
            $classLikes,
            static fn (
                ClassLikeGeneratorInterface $left,
                ClassLikeGeneratorInterface $right
            ): int => $left->compare($right)
        )]]></code>
    </InvalidArgument>
    <InvalidMethodCall>
      <code><![CDATA[uses]]></code>
    </InvalidMethodCall>
    <InvalidPropertyAssignmentValue>
      <code><![CDATA[$this->classLikes]]></code>
    </InvalidPropertyAssignmentValue>
    <LessSpecificReturnType>
      <code><![CDATA[string]]></code>
    </LessSpecificReturnType>
    <MixedArgument>
      <code><![CDATA[$returnType]]></code>
    </MixedArgument>
    <MixedArgumentTypeCoercion>
      <code><![CDATA[$attributes]]></code>
    </MixedArgumentTypeCoercion>
    <MixedArrayOffset>
      <code><![CDATA[$uses[$use->name()]]]></code>
    </MixedArrayOffset>
    <MixedAssignment>
      <code><![CDATA[$use]]></code>
      <code><![CDATA[$uses[$use->name()]]]></code>
    </MixedAssignment>
    <MixedInferredReturnType>
      <code><![CDATA[string]]></code>
    </MixedInferredReturnType>
    <MixedMethodCall>
      <code><![CDATA[name]]></code>
    </MixedMethodCall>
    <MixedReturnStatement>
      <code><![CDATA[array_reduce(
            $classLikes,
            static fn (string $code, ClassLikeGeneratorInterface $class): string => $code . $class->generate() . self::NEWLINES,
            $code
        )]]></code>
    </MixedReturnStatement>
    <PossiblyUnusedMethod>
      <code><![CDATA[class]]></code>
      <code><![CDATA[classLikes]]></code>
      <code><![CDATA[usesClass]]></code>
      <code><![CDATA[usesConstant]]></code>
      <code><![CDATA[usesFunction]]></code>
    </PossiblyUnusedMethod>
    <PropertyTypeCoercion>
      <code><![CDATA[$this->uses]]></code>
      <code><![CDATA[$this->uses]]></code>
      <code><![CDATA[$this->uses]]></code>
    </PropertyTypeCoercion>
    <UnusedMethod>
      <code><![CDATA[method]]></code>
    </UnusedMethod>
    <UnusedVariable>
      <code><![CDATA[$name]]></code>
    </UnusedVariable>
  </file>
  <file src="src/Generator/ParameterGenerator.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
      <code><![CDATA[uses]]></code>
    </PossiblyUnusedMethod>
    <UnusedProperty>
      <code><![CDATA[$attributes]]></code>
      <code><![CDATA[$defaultValue]]></code>
      <code><![CDATA[$isDefaultValueAvailable]]></code>
      <code><![CDATA[$isOptional]]></code>
    </UnusedProperty>
  </file>
  <file src="src/Generator/StaticCallGenerator.php">
    <MissingOverrideAttribute>
      <code><![CDATA[public function generate(): string]]></code>
    </MissingOverrideAttribute>
    <MixedArgument>
      <code><![CDATA[$arg]]></code>
    </MixedArgument>
    <MixedAssignment>
      <code><![CDATA[$arg]]></code>
    </MixedAssignment>
  </file>
  <file src="src/Generator/TestDataProviderGenerator.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Generator/TestMethodGenerator.php">
    <MixedArgument>
      <code><![CDATA[$param]]></code>
      <code><![CDATA[$returnType]]></code>
    </MixedArgument>
    <MixedAssignment>
      <code><![CDATA[$param]]></code>
    </MixedAssignment>
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
    <UnusedParam>
      <code><![CDATA[$className]]></code>
    </UnusedParam>
  </file>
  <file src="src/Generator/Use/UseConstantGenerator.php">
    <MissingOverrideAttribute>
      <code><![CDATA[public function generate(): string]]></code>
    </MissingOverrideAttribute>
  </file>
  <file src="src/Interface/Generator/ClassLike/ClassGeneratorInterface.php">
    <UnusedClass>
      <code><![CDATA[ClassGeneratorInterface]]></code>
    </UnusedClass>
  </file>
  <file src="src/Interface/Generator/ClassLike/EnumGeneratorInterface.php">
    <UnusedClass>
      <code><![CDATA[EnumGeneratorInterface]]></code>
    </UnusedClass>
  </file>
  <file src="src/Interface/Generator/ClassLikeGeneratorInterface.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[addAttribute]]></code>
      <code><![CDATA[addConstant]]></code>
      <code><![CDATA[addMethod]]></code>
      <code><![CDATA[addProperty]]></code>
      <code><![CDATA[addTraitUse]]></code>
      <code><![CDATA[addUse]]></code>
      <code><![CDATA[uses]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Interface/Generator/ClassLikeMemberGeneratorInterface.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[attributes]]></code>
      <code><![CDATA[uses]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Interface/Generator/UseGeneratorInterface.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[alias]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Interface/NameGeneratorInterface.php">
    <UnusedClass>
      <code><![CDATA[NameGeneratorInterface]]></code>
    </UnusedClass>
  </file>
  <file src="src/Normalizer/ClassConstantNameNormalizer.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Normalizer/ClassMethodNameNormalizer.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Normalizer/ClassNameNormalizer.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Normalizer/TestDataProviderMethodNameNormalizer.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Normalizer/TestMethodNameNormalizer.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/PhpFileFinder.php">
    <LessSpecificReturnType>
      <code><![CDATA[Generator]]></code>
    </LessSpecificReturnType>
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
    <UnusedProperty>
      <code><![CDATA[$filesystem]]></code>
    </UnusedProperty>
  </file>
  <file src="src/Printer.php">
    <MissingOverrideAttribute>
      <code><![CDATA[public function print(GeneratorInterface $generator): string]]></code>
    </MissingOverrideAttribute>
  </file>
  <file src="src/Project.php">
    <MissingThrowsDocblock>
      <code><![CDATA[getArgument]]></code>
      <code><![CDATA[getArgument]]></code>
      <code><![CDATA[getOption]]></code>
      <code><![CDATA[getOption]]></code>
      <code><![CDATA[throw new FailedToCreateDirectoryException($testsUnitDirectory);]]></code>
      <code><![CDATA[throw new PathDoesNotExistException($source);]]></code>
      <code><![CDATA[throw new PathDoesNotExistException($tests);]]></code>
      <code><![CDATA[throw new PathIsEmptyException();]]></code>
      <code><![CDATA[throw new PathIsEmptyException();]]></code>
      <code><![CDATA[throw new PathIsNotDirectoryException($source);]]></code>
      <code><![CDATA[throw new PathIsNotStringException();]]></code>
      <code><![CDATA[throw new PathIsNotStringException();]]></code>
    </MissingThrowsDocblock>
    <PossiblyUnusedProperty>
      <code><![CDATA[$source]]></code>
      <code><![CDATA[$tests]]></code>
    </PossiblyUnusedProperty>
  </file>
  <file src="src/Runner.php">
    <MissingOverrideAttribute>
      <code><![CDATA[public function run(ProjectInterface $project): Generator]]></code>
    </MissingOverrideAttribute>
    <MixedArgument>
      <code><![CDATA[$sourceDirectory]]></code>
    </MixedArgument>
    <MixedArgumentTypeCoercion>
      <code><![CDATA[[$testsDirectory, 'Test.php']]]></code>
    </MixedArgumentTypeCoercion>
    <MixedAssignment>
      <code><![CDATA[$sourceDirectory]]></code>
      <code><![CDATA[$testsDirectory]]></code>
    </MixedAssignment>
    <NoInterfaceProperties>
      <code><![CDATA[$project->source]]></code>
      <code><![CDATA[$project->tests]]></code>
    </NoInterfaceProperties>
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/ServiceProvider.php">
    <MissingOverrideAttribute>
      <code><![CDATA[public function __invoke(ContainerInterface $container): void]]></code>
    </MissingOverrideAttribute>
  </file>
  <file src="src/TestBuilder.php">
    <ArgumentTypeCoercion>
      <code><![CDATA[$this->testMethodsResolver->resolve($namespaceClass)]]></code>
    </ArgumentTypeCoercion>
    <InvalidArgument>
      <code><![CDATA[[new AttributeGenerator('CoversClass', [$class . '::class'])]]]></code>
    </InvalidArgument>
    <InvalidOperand>
      <code><![CDATA[$namespace]]></code>
    </InvalidOperand>
    <MissingOverrideAttribute>
      <code><![CDATA[public function build(string $file, string $testFile): GeneratorInterface]]></code>
    </MissingOverrideAttribute>
    <MissingThrowsDocblock>
      <code><![CDATA[throw new RuntimeException('Could not read file: ' . $file);]]></code>
    </MissingThrowsDocblock>
    <MixedArgumentTypeCoercion>
      <code><![CDATA[$namespaces]]></code>
    </MixedArgumentTypeCoercion>
    <MixedArrayAccess>
      <code><![CDATA[$namespaceGenerator]]></code>
      <code><![CDATA[$testNamespace]]></code>
    </MixedArrayAccess>
    <MixedAssignment>
      <code><![CDATA[$namespaces[$namespace]]]></code>
      <code><![CDATA[[$testNamespace, $namespaceGenerator]]]></code>
    </MixedAssignment>
    <MixedMethodCall>
      <code><![CDATA[classLikes]]></code>
      <code><![CDATA[usesClass]]></code>
      <code><![CDATA[usesClass]]></code>
      <code><![CDATA[usesClass]]></code>
    </MixedMethodCall>
    <MixedOperand>
      <code><![CDATA[$testNamespace]]></code>
    </MixedOperand>
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/TestMethodsResolver.php">
    <PossiblyUnusedMethod>
      <code><![CDATA[__construct]]></code>
    </PossiblyUnusedMethod>
    <UnevaluatedCode>
      <code><![CDATA[$assertTrue = new StaticCallGenerator('self', 'assertTrue', ['true']);]]></code>
      <code><![CDATA[$methods = [
            'setUp' => new MethodGenerator('setUp', 'void', [], [], [
                $staticCallGenerator,
            ], [], false, false, false, true, false, false),
        ];]]></code>
      <code><![CDATA[$reflectionClass = new ReflectionClass($class);]]></code>
      <code><![CDATA[$staticCallGenerator = new StaticCallGenerator('self', 'markTestSkipped', ['Not implemented yet.']);]]></code>
      <code><![CDATA[foreach ($reflectionClass->getMethods(ReflectionMethod::IS_PUBLIC) as $method) {
            $testMethodName = $this->testMethodNameNormalizer->normalize($method->getName());

            $uses = [];
            $parameters = array_map(
                static function (ReflectionParameter $parameter) use ($uses): ParameterGenerator {
                    $parameterType = $parameter->getType()?->__toString() ?? 'mixed';

                    $parameterTypes = explode('|', $parameterType);
                    $types = [];
                    foreach ($parameterTypes as $type) {
                        if (str_starts_with($type, '?')) {
                            $type = ltrim($type, '?');
                        }

                        if (str_contains($type, '\\')) {
                            if (
                                class_exists($type)
                                || interface_exists($type)
                                || trait_exists($type)
                                || enum_exists($type)
                            ) {
                                $uses[$type] = new UseClassGenerator($type);
                            }

                            $type = mb_substr($type, mb_strrpos($type, '\\') + 1);
                        }

                        $types[] = $type;
                    }

                    return new ParameterGenerator(
                        name: $parameter->getName(),
                        type: implode('|', $types),
                        isOptional: $parameter->isOptional(),
                        isVariadic: $parameter->isVariadic(),
                        isPassedByReference: $parameter->isPassedByReference(),
                        isDefaultValueAvailable: $parameter->isDefaultValueAvailable(),
                        uses: $uses,
                    );
                },
                $method->getParameters()
            );

            $attributes = [];
            $hasParameters = $parameters !== [];
            if ($hasParameters) {
                $dataProvider = $this->testDataProviderMethodNameNormalizer->normalize($testMethodName);

                $methods[$dataProvider] = new MethodGenerator(
                    $dataProvider,
                    'Generator',
                    [new UseClassGenerator(Generator::class), new UseClassGenerator(DataProvider::class)],
                    [],
                    [new TestDataProviderGenerator($testMethodName, $parameters)],
                    $attributes,
                    true,
                    false,
                    false,
                    true,
                    false,
                    false,
                );

                $attributes[] = new AttributeGenerator('DataProvider', [sprintf("'%s'", $dataProvider)]);
            }

            $methods[$testMethodName] = new MethodGenerator(
                $testMethodName,
                'void',
                [],
                $parameters,
                [$assertTrue],
                $attributes,
                $method->isStatic(),
                $method->isFinal(),
                $method->isAbstract(),
                $method->isPublic(),
                $method->isProtected(),
                $method->isPrivate()
            );
        }]]></code>
      <code><![CDATA[return $methods;]]></code>
    </UnevaluatedCode>
    <UnusedParam>
      <code><![CDATA[$class]]></code>
    </UnusedParam>
    <UnusedProperty>
      <code><![CDATA[$testDataProviderMethodNameNormalizer]]></code>
      <code><![CDATA[$testMethodNameNormalizer]]></code>
    </UnusedProperty>
  </file>
  <file src="src/Testify.php">
    <LessSpecificReturnType>
      <code><![CDATA[bool]]></code>
    </LessSpecificReturnType>
    <MissingThrowsDocblock>
      <code><![CDATA[get]]></code>
      <code><![CDATA[get]]></code>
      <code><![CDATA[get]]></code>
      <code><![CDATA[has]]></code>
      <code><![CDATA[provide]]></code>
      <code><![CDATA[provide]]></code>
      <code><![CDATA[provide]]></code>
      <code><![CDATA[run]]></code>
      <code><![CDATA[throw new RuntimeException('Middleware must implement Middleware interface');]]></code>
    </MissingThrowsDocblock>
    <PossiblyUnusedMethod>
      <code><![CDATA[add]]></code>
      <code><![CDATA[new]]></code>
      <code><![CDATA[run]]></code>
    </PossiblyUnusedMethod>
  </file>
  <file src="src/Trait/ClassLikeGeneratorTrait.php">
    <InvalidReturnType>
      <code><![CDATA[list<DocBlockGeneratorInterface>]]></code>
    </InvalidReturnType>
    <PropertyTypeCoercion>
      <code><![CDATA[$this->attributes]]></code>
      <code><![CDATA[$this->constants]]></code>
      <code><![CDATA[$this->methods]]></code>
      <code><![CDATA[$this->properties]]></code>
      <code><![CDATA[$this->traitUses]]></code>
      <code><![CDATA[$this->uses]]></code>
    </PropertyTypeCoercion>
  </file>
  <file src="src/Trait/UseGeneratorTrait.php">
    <MissingOverrideAttribute>
      <code><![CDATA[final public function alias(): string]]></code>
      <code><![CDATA[final public function compare(UseGeneratorInterface $generator): int]]></code>
      <code><![CDATA[final public function name(): string]]></code>
    </MissingOverrideAttribute>
  </file>
</files>
